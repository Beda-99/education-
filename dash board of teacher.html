<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <title>Teacher Workspace | Beacon Educationüñ±</title>
    <link rel="icon" href="logo.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        /* CSS remains consistent with previous professional styles */
        :root {
             --bg: #0b1120;
              --sidebar: #111827;
               --surface: #1e293b; 
               --primary: #3b82f6;
                --text: #f9fafb; 
                --border: rgba(255,255,255,0.1);
             }
        body { 
            background: var(--bg);
             color: var(--text); 
             display: flex;
              height: 100vh; 
              font-family: 'Plus Jakarta Sans';
             }
        
        .sidebar {
             width: 260px;
              background: var(--sidebar);
               padding: 2rem;
                border-right: 1px solid var(--border);
             }
        .main { 
            flex: 1;
             padding: 3rem;
              overflow-y: auto;
             }
        
        /* Modal for Uploading Lessons */
        .modal { 
            display: none;
             position: fixed; 
             top: 0;
              left: 0; 
              width: 100%;
               height: 100%; 
               background: rgba(0,0,0,0.8);
                z-index: 1000;
                 justify-content: center;
                  align-items: center; 
                }
        .modal-content {
             background: var(--surface);
              padding: 3rem; 
              border-radius: 24px;
               width: 500px;
                border: 1px solid var(--primary); 
            }
        
        .card { 
            background: var(--surface);
             padding: 2rem; 
             border-radius: 20px;
              border: 1px solid var(--border);
               margin-top: 2rem;
             }
        .btn-add {
             background: var(--primary);
              color: white; 
              border: none; 
              padding: 12px 24px; 
              border-radius: 10px;
               cursor: pointer;
                font-weight: 700;
             }
        input, select {
             width: 100%;
              padding: 10px;
               margin: 10px 0;
                border-radius: 8px;
                 background: #0f172a;
                  border: 1px solid var(--border);
                   color: white;
                 }
    </style>
</head>
<body>

    <aside class="sidebar">
        <h2 style="color:var(--primary)"><span>Beacon Education<span><a href="index.html" style="color: blue;text-decoration: none;">üñ±</a></span></h2>
        <nav style="margin-top:2rem;">
            <p style="color:gray; font-size:0.7rem;">MANAGEMENT</p>
            <a href="#" style="display:block; color:white; text-decoration:none; padding:10px 0;">üìä My Overview</a>
            <a href="#" style="display:block; color:white; text-decoration:none; padding:10px 0;">üìÅ My Uploads</a>
        </nav>
    </aside>

    <main class="main">
        <header style="display:flex; justify-content:space-between;">
            <div>
                <h1 id="greetName">Welcome, Teacher</h1>
                <p id="assignedLevel" style="color:var(--primary); font-weight:700;"></p>
            </div>
            <button class="btn-add" onclick="openUpload()">+ Add New Lesson</button>
        </header>

        <div class="card">
            <h3>Active Curriculum: <span id="subName">Loading...</span></h3>
            <p style="color:gray;">This section is customized based on your teaching expertise.</p>
            <div id="lessonList" style="margin-top:1.5rem;">
                <p>No lessons uploaded yet. Use the button above to start.</p>
            </div>
        </div>
    </main>

    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <h2>Upload Lesson Material</h2>
            <label>Lesson Title</label>
            <input type="text" id="lessonTitle" placeholder="e.g. Introduction to Algebra">
            <label>Select File (PDF, MP4, PPT)</label>
            <input type="file" id="lessonFile">
            <button class="btn-add" style="width:100%; margin-top:1rem;" onclick="submitLesson()">Publish to Students</button>
            <button onclick="closeUpload()" style="background:none; border:none; color:gray; width:100%; margin-top:10px; cursor:pointer;">Cancel</button>
        </div>
    </div>

    <script>
        // Load the data submitted from the previous file
        window.onload = function() {
            const name = sessionStorage.getItem("teacherName") || "Educator";
            const subject = sessionStorage.getItem("teacherSubject") || "General Studies";
            const level = sessionStorage.getItem("teacherLevel") || "All Levels";

            document.getElementById("greetName").innerText = "Welcome, " + name;
            document.getElementById("assignedLevel").innerText = "Department: " + level.toUpperCase();
            document.getElementById("subName").innerText = subject;
        };

        function openUpload() { document.getElementById('uploadModal').style.display = 'flex'; }
        function closeUpload() { document.getElementById('uploadModal').style.display = 'none'; }

        function submitLesson() {
            const title = document.getElementById('lessonTitle').value;
            if(!title) return alert("Please enter a title");

            // Add the new lesson to the list visually
            const list = document.getElementById('lessonList');
            if(list.innerHTML.includes("No lessons")) list.innerHTML = "";
            
            const newItem = document.createElement('div');
            newItem.style = "padding:15px; background:rgba(255,255,255,0.05); border-radius:10px; margin-bottom:10px; display:flex; justify-content:space-between;";
            newItem.innerHTML = `<span>üìò ${title}</span> <span style="color:green;">‚óè Live</span>`;
            
            list.appendChild(newItem);
            closeUpload();
            alert("Lesson published successfully to your students!");
        }
    </script>
</body>
</html>